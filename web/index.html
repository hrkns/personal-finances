<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Personal Finances</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main>
    <h1>Personal Finances</h1>

    <nav class="tabs" aria-label="Views">
      <button type="button" class="tab-button" data-route-tab="home">Home</button>
      <button type="button" class="tab-button" data-route-tab="transactions">Transactions</button>
      <button type="button" class="tab-button" data-route-tab="credit-cards">Credit Cards</button>
      <button type="button" class="tab-button" data-route-tab="settings">Settings</button>
    </nav>

    <section id="view-home" class="view" data-view="home">
      <h2>Home</h2>
      <p>This dashboard is a placeholder and will evolve over time with broader personal finance management tools.</p>

      <h3>Planned Summary Content</h3>
      <ul>
        <li>Monthly income, expense, and net balance overview</li>
        <li>Credit card balances, limits, and utilization summary</li>
        <li>Upcoming payments and due dates snapshot</li>
        <li>Investments performance and allocation overview</li>
        <li>Recent transaction highlights</li>
        <li>Spending by category snapshot</li>
      </ul>

      <h3>Planned Quick Access Links</h3>
      <ul>
        <li>Create a new transaction</li>
        <li>Manage credit cards and related limits</li>
        <li>Review and manage upcoming payments</li>
        <li>Open investments tracking and portfolio sections</li>
        <li>Manage people, banks, and bank accounts</li>
        <li>Open transaction categories configuration</li>
      </ul>

      <h3>Planned Alerts &amp; Other Items</h3>
      <ul>
        <li>Low balance warnings</li>
        <li>Credit card payment due reminders</li>
        <li>Investment rebalance and performance alerts</li>
        <li>Budget threshold and recurring payment notifications</li>
        <li>Duplicate or unusual transaction checks</li>
        <li>General reminders, planning insights, and upcoming improvements</li>
      </ul>
    </section>

    <section id="view-transactions" class="view" data-view="transactions" hidden>
      <h2>Transactions</h2>
      <form id="transaction-form">
        <input type="hidden" id="transaction-id" />

        <label for="transaction-date">Date</label>
        <input id="transaction-date" name="transaction_date" type="date" required />

        <label for="transaction-type">Type</label>
        <select id="transaction-type" name="type" required>
          <option value="income">Income</option>
          <option value="expense">Expense</option>
        </select>

        <label for="transaction-amount">Amount</label>
        <input id="transaction-amount" name="amount" type="number" step="0.01" min="0.01" required />

        <label for="transaction-person-id">Person</label>
        <select id="transaction-person-id" name="person_id" required>
          <option value="">Select person</option>
        </select>

        <label for="transaction-bank-account-id">Bank Account</label>
        <select id="transaction-bank-account-id" name="bank_account_id" required>
          <option value="">Select bank account</option>
        </select>

        <label for="transaction-category-id-input">Category</label>
        <!-- The ID of this select breaks convention, but it's kept for avoiding collision with input
         with the same ID of the transaction category form -->
        <select id="transaction-category-id-input" name="category_id" required>
          <option value="">Select category</option>
        </select>

        <label for="transaction-notes">Notes</label>
        <textarea id="transaction-notes" name="notes" rows="3" placeholder="Optional"></textarea>

        <div class="actions">
          <button id="transaction-submit-button" type="submit">Create</button>
          <button id="transaction-cancel-button" type="button" hidden>Cancel edit</button>
        </div>
      </form>

      <p id="transaction-form-message" role="status"></p>

      <h2>Transactions</h2>
      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Date</th>
            <th>Type</th>
            <th>Amount</th>
            <th>Person</th>
            <th>Bank Account</th>
            <th>Category</th>
            <th>Notes</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="transactions-body"></tbody>
      </table>
    </section>

    <section id="view-credit-cards" class="view" data-view="credit-cards" hidden>
      <h2>Credit Cards</h2>
      <nav class="tabs" aria-label="Credit Cards Views">
        <button type="button" class="tab-button" data-credit-card-tab="cards">Cards</button>
        <button type="button" class="tab-button" data-credit-card-tab="cycles">Cycles</button>
      </nav>

      <section id="view-credit-cards-cards" class="credit-cards-view" hidden>
        <h2>Cards</h2>
        <form id="credit-card-form">
          <input type="hidden" id="credit-card-id" />

          <label for="credit-card-bank-id">Bank</label>
          <select id="credit-card-bank-id" name="bank_id" required>
            <option value="">Select bank</option>
          </select>

          <label for="credit-card-person-id">Person</label>
          <select id="credit-card-person-id" name="person_id" required>
            <option value="">Select person</option>
          </select>

          <label for="credit-card-number">Number</label>
          <input id="credit-card-number" name="number" type="text" required />

          <label for="credit-card-name">Name</label>
          <input id="credit-card-name" name="name" type="text" placeholder="Optional" />

          <div class="actions">
            <button id="credit-card-submit-button" type="submit">Create</button>
            <button id="credit-card-cancel-button" type="button" hidden>Cancel edit</button>
          </div>
        </form>

        <p id="credit-card-form-message" role="status"></p>

        <h2>Credit Cards</h2>
        <table>
          <thead>
            <tr>
              <th>ID</th>
              <th>Bank</th>
              <th>Person</th>
              <th>Number</th>
              <th>Name</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="credit-cards-body"></tbody>
        </table>
      </section>

      <section id="view-credit-card-cycles" class="credit-cards-view" hidden>
        <h2>Cycles</h2>
        <form id="credit-card-cycle-form">
          <input type="hidden" id="credit-card-cycle-id" />

          <label for="credit-card-cycle-credit-card-id">Credit Card</label>
          <select id="credit-card-cycle-credit-card-id" name="credit_card_id" required>
            <option value="">Select credit card</option>
          </select>

          <label for="credit-card-cycle-closing-date">Closing Date</label>
          <input id="credit-card-cycle-closing-date" name="closing_date" type="date" required />

          <label for="credit-card-cycle-due-date">Due Date</label>
          <input id="credit-card-cycle-due-date" name="due_date" type="date" required />

          <div class="actions">
            <button id="credit-card-cycle-submit-button" type="submit">Create</button>
            <button id="credit-card-cycle-cancel-button" type="button" hidden>Cancel edit</button>
          </div>
        </form>

        <p id="credit-card-cycle-form-message" role="status"></p>

        <h2>Credit Card Cycles</h2>
        <table>
          <thead>
            <tr>
              <th>ID</th>
              <th>Credit Card</th>
              <th>Closing Date</th>
              <th>Due Date</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="credit-card-cycles-body"></tbody>
        </table>

        <section id="credit-card-cycle-balances-section">
          <h2>Cycle Balances</h2>
          <p id="credit-card-cycle-balances-selection-message">Select a cycle balance context to continue.</p>

          <form id="credit-card-cycle-balance-form">
            <input type="hidden" id="credit-card-cycle-balance-id" />
            <input type="hidden" id="credit-card-cycle-balance-cycle-id" />

            <label for="credit-card-cycle-balance-currency-id">Currency</label>
            <select id="credit-card-cycle-balance-currency-id" name="currency_id" required>
              <option value="">Select currency</option>
            </select>

            <label for="credit-card-cycle-balance-balance">Balance</label>
            <input id="credit-card-cycle-balance-balance" name="balance" type="number" step="0.01" required />

            <label for="credit-card-cycle-balance-paid">
              <input id="credit-card-cycle-balance-paid" name="paid" type="checkbox" />
              Paid
            </label>

            <div class="actions">
              <button id="credit-card-cycle-balance-submit-button" type="submit">Create</button>
              <button id="credit-card-cycle-balance-cancel-button" type="button" hidden>Cancel edit</button>
            </div>
          </form>

          <p id="credit-card-cycle-balance-form-message" role="status"></p>

          <table>
            <thead>
              <tr>
                <th>ID</th>
                <th>Currency</th>
                <th>Balance</th>
                <th>Paid</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="credit-card-cycle-balances-body"></tbody>
          </table>
        </section>
      </section>
    </section>

    <section id="view-settings" class="view" data-view="settings" hidden>
      <h2>Settings</h2>
      <p id="settings-selection-message">Select a settings section to continue.</p>
      <nav class="tabs" aria-label="Settings Views">
        <button type="button" class="tab-button" data-settings-tab="transaction-categories">Transaction Categories</button>
        <button type="button" class="tab-button" data-settings-tab="people">People</button>
        <button type="button" class="tab-button" data-settings-tab="bank-accounts">Bank Accounts</button>
        <button type="button" class="tab-button" data-settings-tab="banks">Banks</button>
        <button type="button" class="tab-button" data-settings-tab="currency">Currency</button>
      </nav>
    </section>

    <section id="view-transaction-categories" class="settings-view" hidden>
      <h2>Transaction Categories</h2>
      <form id="transaction-category-form">
        <input type="hidden" id="transaction-category-id" />

        <label for="transaction-category-name">Name</label>
        <input id="transaction-category-name" name="name" type="text" required />

        <label for="transaction-category-parent-id">Parent Category</label>
        <select id="transaction-category-parent-id" name="parent_id">
          <option value="">No parent</option>
        </select>

        <div class="actions">
          <button id="transaction-category-submit-button" type="submit">Create</button>
          <button id="transaction-category-cancel-button" type="button" hidden>Cancel edit</button>
        </div>
      </form>

      <p id="transaction-category-form-message" role="status"></p>

      <h2>Transaction Categories</h2>
      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Parent</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="transaction-categories-body"></tbody>
      </table>
    </section>

    <section id="view-people" class="settings-view" hidden>
      <h2>People</h2>
      <form id="people-form">
        <input type="hidden" id="person-id" />

        <label for="person-name">Name</label>
        <input id="person-name" name="name" type="text" required />

        <div class="actions">
          <button id="person-submit-button" type="submit">Create</button>
          <button id="person-cancel-button" type="button" hidden>Cancel edit</button>
        </div>
      </form>

      <p id="person-form-message" role="status"></p>

      <h2>People</h2>
      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="people-body"></tbody>
      </table>
    </section>

    <section id="view-bank-accounts" class="settings-view" hidden>
      <h2>Bank Accounts</h2>
      <form id="bank-account-form">
        <input type="hidden" id="bank-account-id" />

        <label for="bank-account-bank-id">Bank</label>
        <select id="bank-account-bank-id" name="bank_id" required>
          <option value="">Select bank</option>
        </select>

        <label for="bank-account-currency-id">Currency</label>
        <select id="bank-account-currency-id" name="currency_id" required>
          <option value="">Select currency</option>
        </select>

        <label for="bank-account-number">Account Number</label>
        <input id="bank-account-number" name="account_number" type="text" required />

        <label for="bank-account-balance">Balance</label>
        <input id="bank-account-balance" name="balance" type="number" step="0.01" required />

        <div class="actions">
          <button id="bank-account-submit-button" type="submit">Create</button>
          <button id="bank-account-cancel-button" type="button" hidden>Cancel edit</button>
        </div>
      </form>

      <p id="bank-account-form-message" role="status"></p>

      <h2>Bank Accounts</h2>
      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Bank</th>
            <th>Currency</th>
            <th>Account Number</th>
            <th>Balance</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="bank-accounts-body"></tbody>
      </table>
    </section>

    <section id="view-currency" class="settings-view" hidden>
      <h2>Currency</h2>
      <form id="currency-form">
        <input type="hidden" id="currency-id" />

        <label for="currency-name">Name</label>
        <input id="currency-name" name="name" type="text" required />

        <label for="currency-code">Code</label>
        <input id="currency-code" name="code" type="text" required maxlength="10" />

        <div class="actions">
          <button id="submit-button" type="submit">Create</button>
          <button id="cancel-button" type="button" hidden>Cancel edit</button>
        </div>
      </form>

      <p id="form-message" role="status"></p>

      <h2>Currencies</h2>
      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Code</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="currencies-body"></tbody>
      </table>
    </section>

    <section id="view-banks" class="settings-view" hidden>
      <h2>Bank</h2>
      <form id="bank-form">
        <input type="hidden" id="bank-id" />

        <label for="bank-name">Name</label>
        <input id="bank-name" name="name" type="text" required />

        <label for="bank-country">Country</label>
        <select id="bank-country" name="country" required>
          <option value="">Select country</option>
        </select>

        <div class="actions">
          <button id="bank-submit-button" type="submit">Create</button>
          <button id="bank-cancel-button" type="button" hidden>Cancel edit</button>
        </div>
      </form>

      <p id="bank-form-message" role="status"></p>

      <h2>Banks</h2>
      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Country</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="banks-body"></tbody>
      </table>
    </section>
  </main>

  <footer class="creator-credit" aria-label="Creator attribution">
    <p>Created by <a href="https://jrosendo.com/" target="_blank" rel="noopener noreferrer">Jos√© Rosendo</a></p>
    <p><a href="https://github.com/hrkns/personal-finances" target="_blank" rel="noopener noreferrer">Source Code</a></p>
  </footer>

  <script src="utils.js"></script>
  <script src="router.js"></script>
  <script src="app/dom.js"></script>
  <script src="app/state.js"></script>
  <script src="app/api.js"></script>
  <script src="app/routing.js"></script>
  <script src="app/modules.js"></script>
  <script src="modules/transaction-categories.js"></script>
  <script src="modules/transactions.js"></script>
  <script src="modules/people.js"></script>
  <script src="modules/currencies.js"></script>
  <script src="modules/banks.js"></script>
  <script src="modules/bank-accounts.js"></script>
  <script src="modules/credit-cards.js"></script>
  <script src="modules/credit-card-cycles.js"></script>
  <script src="app/index.js"></script>
</body>
</html>